<!DOCTYPE html>
<html>
<head>
    <title>Flappy Bird</title>
    <style>
        body {
            background-color: black;
            overflow: hidden;
        }

        #game-container {
            position: relative;
            width: 400px;
            height: 600px;
            margin: 0 auto;
            overflow: hidden;
        }

        #bird {
            position: absolute;
            left: 50px;
            top: 200px;
            width: 50px;
            height: 50px;
            background-color: yellow;
            transition: transform 0.2s ease-out;
        }

        .pipe {
            position: absolute;
            width: 80px;
            height: 400px;
            background-color: green;
            transition: left 2s linear;
        }

        #score {
            position: absolute;
            top: 10px;
            right: 10px;
            color: white;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="bird"></div>
        <div id="score">Score: 0</div>
    </div>

    <script>
        var bird = document.getElementById("bird");
        var gameContainer = document.getElementById("game-container");
        var scoreLabel = document.getElementById("score");
        var pipes = [];
        var score = 0;
        var gravity = 1.5;
        var jumpStrength = 25;
        var gameSpeed = 5;

        function createPipe() {
            var pipe = document.createElement("div");
            pipe.classList.add("pipe");
            pipe.style.left = gameContainer.offsetWidth + "px";
            pipe.style.top = Math.random() * (gameContainer.offsetHeight - 200) + "px";
            gameContainer.appendChild(pipe);
            pipes.push(pipe);
        }

        function updatePipes() {
            for (var i = 0; i < pipes.length; i++) {
                var pipe = pipes[i];
                var pipeRect = pipe.getBoundingClientRect();
                var birdRect = bird.getBoundingClientRect();

                if (
                    birdRect.right > pipeRect.left &&
                    birdRect.left < pipeRect.right &&
                    birdRect.bottom > pipeRect.top &&
                    birdRect.top < pipeRect.bottom
                ) {
                    gameOver();
                }

                if (pipeRect.right < 0) {
                    pipe.remove();
                    pipes.splice(i, 1);
                    score++;
                    scoreLabel.innerText = "Score: " + score;
                }

                pipe.style.left = pipeRect.left - gameSpeed + "px";
            }
        }

        function jump() {
            bird.style.transform = "translateY(" + (-jumpStrength) + "px)";
        }

        function gameOver() {
            clearInterval(gameLoop);
            alert("Jiah kalah, masa gitu aja gabisa! Your score is: " + score);
        }

        document.addEventListener("keydown", function(event) {
            if (event.code === "Space") {
                jump();
            }
        });

        var gameLoop = setInterval(function() {
            var birdRect = bird.getBoundingClientRect();
            var gameContainerRect = gameContainer.getBoundingClientRect();

            if (birdRect.bottom >= gameContainerRect.bottom || birdRect.top <= 0) {
                gameOver();
            }

            bird.style.transform = "translateY(" + gravity + "px)";
            updatePipes();
        }, 20);

        setInterval(createPipe, 3000);

        setInterval(function() {
            var colors = ["red", "green", "blue", "yellow", "orange"];
            var randomColor = colors[Math.floor(Math.random() * colors.length)];
            document.body.style.backgroundColor = randomColor;
        }, 2000);
    </script>
</body>
</html>
